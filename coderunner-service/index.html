<label for="lang">Choose a language:</label>
<select name="lang" id="lang">
  <option value="python">python</option>
  <option value="js">js</option>
  <option value="java">java</option>
  <option value="cpp">cpp</option>
</select><br><br>
<textarea id="src" rows="4" cols="50"># Insert your code here &#13;&#10;print("Hello World")</textarea>
<br />
<button onclick="submit()">submit</button>
<div id="res"></div>


<script>
  function set_res({ result }) {
    result = result.replaceAll('\n', '<br>')
    document.getElementById('res').innerHTML = result
  }
  function submit() {
    fetch("http://localhost:8080", {
      method: 'POST',
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({
        "src": document.getElementById('src').value,
        "lang": document.getElementById("lang").value
      }),
      redirect: 'follow'
    })
      .then(response => response.json())
      .then(result => set_res(result))
      .catch(error => console.log('error', error));
  }
</script>